(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function l(c){let a=(c-n)/o;a>1&&(a=1);let r=e(a);t(r),a<1&&requestAnimationFrame(l)}))};(()=>{const t=document.querySelectorAll(".callback-btn, .button-services, .img-wrapper"),o=document.querySelectorAll(".img-wrapper-btn"),n=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay");n.style.opacity=0;const c=()=>{e({duration:300,timing:e=>e,draw(e){n.style.display="block",l.style.display="block",n.style.opacity=e}})};o.forEach((e=>{e.addEventListener("click",(()=>{c()}))})),t.forEach((e=>{e.addEventListener("click",(()=>{c()}))})),document.addEventListener("click",(t=>{(t.target.classList.contains("modal-overlay")||t.target.closest(".modal-close"))&&e({duration:300,timing:e=>e,draw(e){n.style.display="none",l.style.display="none",n.style.opacity=e}})}))})(),(()=>{const e=document.querySelector(".accordeon").querySelectorAll(".element");e.forEach((t=>{const o=t.querySelector(".title"),n=t.querySelector(".element-content");o.addEventListener("click",(()=>{const o=t.classList.contains("active");e.forEach((e=>{e.classList.remove("active"),e.querySelector(".element-content").style.maxHeight="0"})),o||(t.classList.add("active"),n.style.maxHeight=n.scrollHeight+"px")}))}))})(),(()=>{const e=document.querySelector(".up"),t=document.querySelector("#services");window.addEventListener("scroll",(()=>{window.scrollY>=t.offsetTop?e.style.display="block":e.style.display="none"})),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))})(),document.querySelectorAll(".top-menu a").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".top-slider .item"),t=document.createElement("ul");let o=0;function n(t){e.forEach((e=>{e.classList.remove("active")})),e[t].classList.add("active"),document.querySelectorAll(".slick-dots li").forEach(((e,o)=>{o===t?e.classList.add("slick-active"):e.classList.remove("slick-active")}))}t.classList.add("slick-dots"),e.forEach(((e,o)=>{const n=document.createElement("li");n.dataset.index=o,0===o&&n.classList.add("slick-active"),t.appendChild(n)})),document.querySelector(".top-slider").appendChild(t),setInterval((()=>{o=(o+1)%e.length,n(o)}),3e3),t.addEventListener("click",(e=>{"LI"===e.target.tagName&&(o=parseInt(e.target.dataset.index),n(o))})),n(o)})),(()=>{const e=document.querySelector('input[name="fio"]'),t=document.querySelector('input[name="tel"]');document.addEventListener("input",(e=>{if(e.target.classList.contains("tel")){const o=e.target,n=o.value.replace(/\D+/g,""),l=11;let c;c=o.value.includes("+8")||"8"===o.value[0]?"":"+";for(let e=0;e<n.length&&e<l;e++){switch(e){case 0:c+="7"===(t=n[e])?"7 (":"8"===t?"+7 (":"9"===t?"7 (9":"7 (";continue;case 4:c+=") ";break;case 7:case 9:c+="-"}c+=n[e]}o.value=c}var t})),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Я]/g,"")})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9+]/g,"")}))})(),(()=>{const e=({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function l(c){let a=(c-n)/o;a>1&&(a=1);let r=e(a);t(r),a<1&&requestAnimationFrame(l)}))};(()=>{const t=document.querySelectorAll(".callback-btn, .button-services, .img-wrapper"),o=document.querySelectorAll(".img-wrapper-btn"),n=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay"),c=document.forms["form-callback"];c.querySelector("input[type='submit']");let a=null;const r=()=>{e({duration:300,timing:e=>e,draw(e){n.style.display="none",l.style.display="none",n.style.opacity=e}})},s=()=>{e({duration:300,timing:e=>e,draw(e){n.style.display="block",l.style.display="block",n.style.opacity=e}})};o.forEach((e=>{e.addEventListener("click",(()=>{s()}))})),t.forEach((e=>{e.addEventListener("click",(()=>{s()}))})),document.addEventListener("click",(e=>{(e.target.classList.contains("modal-overlay")||e.target.closest(".modal-close"))&&r()})),c.addEventListener("submit",(function(e){e.preventDefault();const t=c.fio.value.trim(),o=c.tel.value.trim();if(a&&(a.textContent=""),a||(a=document.createElement("div"),a.style.color="red",a.style.marginTop="10px",c.appendChild(a)),!/^\+?\d+$/.test(o))return void(a.textContent='Телефон может содержать только цифры и знак "+"');if(!/^[а-яА-ЯёЁ\s]+$/.test(t))return void(a.textContent="Имя может содержать только кириллицу");a.textContent="Отправка данных...",a.style.color="blue";const n={name:t,phone:o};fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{e.id?(a.textContent="Данные успешно отправлены!",a.style.color="green",c.reset()):(a.textContent="Ошибка при отправке данных.",a.style.color="red")})).catch((e=>{console.error("Ошибка при отправке:",e),a.textContent="Произошла ошибка при отправке данных.",a.style.color="red"}))}))})()})()})();